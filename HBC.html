<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reloj Master K-Format</title>
    <style>
        /* --- Configuración General --- */
        :root {
            --bg-color: #080808;
            --color-borde: #333;
            
            /* Colores de Texto */
            --txt-segundos-dia: #00f3ff; /* Cian Brillante */
            --txt-hora: #666;

            /* Colores de Manecillas */
            --manecilla-dia: #00f3ff;    /* Azul (24h / Segundos Totales) */
            --manecilla-seg: #ff0044;    /* Rojo Neón (Segundera rápida) */
            --manecilla-min: rgba(255, 255, 255, 0.15); /* Gris Fantasma (Minutera) */
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', Roboto, sans-serif;
            overflow: hidden;
        }

        /* Botón Fullscreen */
        #btn-fullscreen {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #888;
            padding: 8px 15px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 100;
            transition: all 0.3s;
        }
        #btn-fullscreen:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* --- El Contenedor del Reloj --- */
        .reloj-contenedor {
            position: relative;
            width: 90vmin; 
            height: 90vmin;
            border-radius: 50%;
            background: radial-gradient(circle, #1a1a1a 45%, #000 100%);
            border: 0.5vmin solid var(--color-borde);
            box-shadow: 0 0 8vmin rgba(0,0,0,0.9);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- 1. CAPA EXTERIOR (DÍA / MARCAS 24H) --- */
        
        /* Contenedor de marcas externas para organizarlas */
        #capa-horas {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        /* Estilos base para las marcas del anillo exterior */
        .marca-outer {
            position: absolute;
            left: 50%;
            top: 0;
            transform-origin: 50% 45vmin; /* Radio externo */
        }

        /* 1. Hora en punto (La más notable) */
        .marca-hora {
            width: 0.25vmin;
            height: 2.5vmin;
            background-color: #888;
        }
        /* 2. Media hora (Mediana) */
        .marca-media {
            width: 0.15vmin;
            height: 1.5vmin;
            background-color: #444;
            top: 0.5vmin; /* Un poco más abajo */
        }
        /* 3. Cuarto de hora (Pequeña) */
        .marca-cuarto {
            width: 0.1vmin;
            height: 0.8vmin;
            background-color: #222;
            top: 0.8vmin;
        }

        /* Etiquetas Texto (XX.Xk + Hora) */
        .etiqueta-outer {
            position: absolute;
            width: 12vmin;
            height: 8vmin;
            left: 50%;
            top: 50%;
            margin-left: -6vmin;
            margin-top: -4vmin;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            pointer-events: none;
        }
        .txt-k {
            font-family: 'Courier New', monospace;
            font-size: 2.2vmin;
            color: var(--txt-segundos-dia);
            font-weight: bold;
            /* Brillo sutil */
            text-shadow: 0 0 1vmin rgba(0, 243, 255, 0.2);
        }
        .txt-h {
            font-size: 1.2vmin;
            color: var(--txt-hora);
            margin-top: 0.2vmin;
            font-weight: 600;
        }

        /* --- 2. CAPA INTERMEDIA (MINUTOS) --- */
        /* Círculo invisible de marcas de minutos */
        .marca-minuto-inner {
            position: absolute;
            width: 0.15vmin;
            height: 1vmin;
            background-color: #222; /* Muy oscuro */
            left: 50%;
            top: 50%;
            transform-origin: 50% 28vmin; /* Radio interno más pequeño */
            margin-left: -0.075vmin;
            margin-top: -28vmin;
        }
        .marca-minuto-inner.quinto {
            background-color: #444;
            height: 1.5vmin;
        }

        /* --- 3. MANECILLAS --- */

        /* A. MINUTERA (Fantasma/Opaca) */
        .manecilla-minuto {
            position: absolute;
            bottom: 50%;
            left: 50%;
            width: 1.8vmin; /* Gruesa */
            height: 26vmin; /* Corta */
            background-color: var(--manecilla-min);
            transform-origin: bottom center;
            border-radius: 1vmin; /* Punta redondeada */
            z-index: 9;
            backdrop-filter: blur(3px);
            border: 1px solid rgba(255,255,255,0.05);
        }
        /* Línea guía fina dentro de la minutera para precisión visual */
        .manecilla-minuto::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            width: 1px;
            height: 100%;
            background: rgba(255,255,255,0.2);
            transform: translateX(-50%);
        }

        /* B. DÍA (Azul - Segundos Totales) */
        .manecilla-dia {
            position: absolute;
            bottom: 50%;
            left: 50%;
            width: 0.5vmin;
            height: 38vmin; /* Larga hasta el borde */
            background: var(--manecilla-dia);
            transform-origin: bottom center;
            border-radius: 0.5vmin;
            z-index: 10;
            box-shadow: 0 0 2vmin rgba(0, 243, 255, 0.4);
        }

        /* C. SEGUNDERA (Roja - Rápida) */
        .manecilla-segundera {
            position: absolute;
            bottom: 50%;
            left: 50%;
            width: 0.2vmin;
            height: 42vmin; 
            background-color: var(--manecilla-seg);
            transform-origin: bottom center;
            z-index: 12;
            box-shadow: 0 0 1vmin rgba(255, 0, 68, 0.6);
        }
        .manecilla-segundera::after { /* Cola */
            content: '';
            position: absolute;
            top: 42vmin;
            left: 0;
            width: 0.2vmin;
            height: 6vmin;
            background-color: var(--manecilla-seg);
        }

        /* Centro */
        .centro {
            position: absolute;
            width: 2vmin;
            height: 2vmin;
            background-color: #fff;
            border-radius: 50%;
            z-index: 15;
            box-shadow: 0 0 1vmin rgba(0,0,0,0.8);
        }

        /* --- Panel Digital Formato K --- */
        .panel-central {
            z-index: 5;
            position: absolute;
            top: 65%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .digital-grande {
            font-family: 'Courier New', monospace;
            font-size: 7vmin; /* Grande */
            color: white;
            font-weight: bold;
            letter-spacing: -0.3vmin;
            text-shadow: 0 5px 15px rgba(0,0,0,0.7);
        }
        .digital-label {
            color: #555;
            font-size: 1.2vmin;
            text-transform: uppercase;
            letter-spacing: 0.3vmin;
            margin-top: 0.5vmin;
        }

    </style>
</head>
<body>

    <button id="btn-fullscreen" onclick="toggleFullScreen()">⛶ Fullscreen</button>

    <div class="reloj-contenedor" id="reloj">
        
        <div id="capa-horas"></div>
        <div id="capa-minutos-inner"></div>

        <div class="manecilla-minuto" id="manecilla-minuto"></div> <div class="manecilla-dia" id="manecilla-dia"></div>       <div class="manecilla-segundera" id="manecilla-segundera"></div> <div class="centro"></div>

        <div class="panel-central">
            <span class="digital-grande" id="display-k">0.0k</span>
            <span class="digital-label">Total Day</span>
        </div>

    </div>

    <script>
        const contenedorHoras = document.getElementById('capa-horas');
        const contenedorMinutos = document.getElementById('capa-minutos-inner');
        const reloj = document.getElementById('reloj');
        const radioTexto = 36; 
        const segundosEnDia = 86400;

        // Función auxiliar formato K (ej: 36000 -> 36.0k)
        function formatK(num) {
            // Dividimos entre 1000 y fijamos 1 decimal
            const kVal = (num / 1000).toFixed(1);
            return `${kVal}k`;
        }

        // --- 1. Generar la Esfera (Compleja) ---
        function crearEsfera() {
            
            // A. ANILLO EXTERNO (Subdivisiones de Hora)
            // 24 horas * 4 subdivisiones (cuartos) = 96 pasos
            const totalPasos = 24 * 4; 

            for (let i = 0; i < totalPasos; i++) {
                // Cada paso son 360 / 96 = 3.75 grados
                const rotacion = i * 3.75;
                const marca = document.createElement('div');
                marca.classList.add('marca-outer');

                // Lógica de tipos de marca
                let esHora = (i % 4 === 0);
                let esMedia = (i % 4 === 2);
                // Si no es hora ni media, es cuarto

                if (esHora) {
                    marca.classList.add('marca-hora');
                    
                    // Solo agregamos texto si es hora PAR (para limpieza)
                    // i es el paso (0, 4, 8...). La hora real es i / 4.
                    const horaReal = i / 4;
                    
                    if (horaReal % 2 === 0) {
                        const etiqueta = document.createElement('div');
                        etiqueta.classList.add('etiqueta-outer');
                        
                        const anguloRad = (rotacion - 90) * (Math.PI / 180);
                        const x = radioTexto * Math.cos(anguloRad);
                        const y = radioTexto * Math.sin(anguloRad);

                        const segVal = horaReal * 3600;
                        etiqueta.innerHTML = `
                            <span class="txt-k">${formatK(segVal)}</span>
                            <span class="txt-h">${horaReal}h</span>
                        `;
                        etiqueta.style.transform = `translate(${x}vmin, ${y}vmin)`;
                        reloj.appendChild(etiqueta); // Agregamos al reloj principal
                    }

                } else if (esMedia) {
                    marca.classList.add('marca-media');
                } else {
                    marca.classList.add('marca-cuarto');
                }

                marca.style.transform = `rotate(${rotacion}deg)`;
                contenedorHoras.appendChild(marca);
            }

            // B. ANILLO INTERNO (Minutos - Referencia para la aguja fantasma)
            for (let j = 0; j < 60; j++) {
                const marcaMin = document.createElement('div');
                marcaMin.classList.add('marca-minuto-inner');
                if (j % 5 === 0) marcaMin.classList.add('quinto');
                
                marcaMin.style.transform = `rotate(${j * 6}deg)`;
                contenedorMinutos.appendChild(marcaMin);
            }
        }

        // --- 2. Actualizar Reloj ---
        function actualizar() {
            const ahora = new Date();
            const h = ahora.getHours();
            const m = ahora.getMinutes();
            const s = ahora.getSeconds();
            const ms = ahora.getMilliseconds();

            const totalSegundos = (h * 3600) + (m * 60) + s;

            // 1. Manecilla DÍA (Azul): Progreso 0-86400
            const gradosDia = (totalSegundos / segundosEnDia) * 360;
            document.getElementById('manecilla-dia').style.transform = `rotate(${gradosDia}deg)`;

            // 2. Manecilla MINUTO (Fantasma): Progreso 0-60
            const gradosMin = (m * 6) + (s * 0.1); 
            document.getElementById('manecilla-minuto').style.transform = `rotate(${gradosMin}deg)`;

            // 3. Manecilla SEGUNDOS (Roja): Progreso 0-60
            const gradosSeg = (s * 6) + (ms * 0.006);
            document.getElementById('manecilla-segundera').style.transform = `rotate(${gradosSeg}deg)`;

            // 4. Panel Digital (Formato K)
            document.getElementById('display-k').innerText = formatK(totalSegundos);
        }

        // --- Pantalla Completa ---
        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) document.exitFullscreen();
            }
        }

        crearEsfera();
        
        function loop() {
            actualizar();
            requestAnimationFrame(loop);
        }
        loop();

    </script>
</body>
</html>
