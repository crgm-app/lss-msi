<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Tiempo Absoluto</title>
    <style>
        :root {
            --neon-green: #00ff00;
            --neon-red: #ff3333;
            --neon-blue: #00d4ff;
            --bg-dark: #050505;
            --panel-bg: #111;
        }

        * { box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            color: #fff;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Sección Superior: Reloj Principal */
        .top-section {
            flex: 2;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #222;
        }

        .label { font-size: 1rem; letter-spacing: 5px; color: #666; text-transform: uppercase; margin-bottom: 10px; }
        .main-seconds { font-size: 12vw; font-weight: 900; line-height: 1; text-shadow: 0 0 30px rgba(255,255,255,0.1); }
        .remaining-box { margin-top: 20px; text-align: center; }
        .rem-seconds { font-size: 4vw; color: var(--neon-red); font-family: 'Courier New', monospace; }

        /* Sección Media: Cronómetro y Laps */
        .middle-section {
            flex: 1.5;
            display: flex;
            background: var(--panel-bg);
            border-bottom: 1px solid #222;
        }

        .chrono-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-right: 1px solid #222;
        }

        .chrono-display { font-size: 5vw; color: var(--neon-blue); font-family: monospace; margin-bottom: 15px; }
        
        .laps-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #0a0a0a;
            font-family: monospace;
        }

        .lap-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px solid #222;
            color: #aaa;
        }
        .lap-item b { color: var(--neon-blue); }

        /* Sección Inferior: Equivalencias */
        .bottom-section {
            flex: 0.8;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: #000;
            padding: 10px;
        }

        .stat-box { text-align: center; }
        .stat-val { font-size: 2vw; display: block; font-weight: bold; }
        .stat-label { font-size: 0.7rem; color: #555; text-transform: uppercase; }

        /* Botones */
        button {
            background: transparent;
            border: 2px solid var(--neon-blue);
            color: var(--neon-blue);
            padding: 10px 25px;
            font-size: 1rem;
            cursor: pointer;
            border-radius: 8px;
            margin: 5px;
            text-transform: uppercase;
            font-weight: bold;
            transition: 0.2s;
        }
        button:hover { background: var(--neon-blue); color: #000; }
        button.btn-lap { border-color: #fff; color: #fff; }
        button.btn-lap:hover { background: #fff; color: #000; }

        /* Barra de progreso sutil */
        .progress-bar {
            position: absolute;
            top: 0; left: 0; height: 4px;
            background: var(--neon-green);
            transition: width 1s linear;
        }
    </style>
</head>
<body>

    <div id="p-bar" class="progress-bar"></div>

    <section class="top-section">
        <div class="label">Segundos Transcurridos del Día</div>
        <div id="main-sec" class="main-seconds">00000</div>
        <div class="remaining-box">
            <div class="label" style="color: var(--neon-red);">Faltan para reiniciar</div>
            <div id="rem-sec" class="rem-seconds">-00000</div>
        </div>
    </section>

    <section class="middle-section">
        <div class="chrono-container">
            <div class="label" style="color: var(--neon-blue);">Cronómetro de Precisión</div>
            <div id="chrono-display" class="chrono-display">00:00.00</div>
            <div>
                <button onclick="startChrono()">Inicio</button>
                <button onclick="pauseChrono()">Pausa</button>
                <button class="btn-lap" onclick="recordLap()">Lap</button>
                <button onclick="resetChrono()" style="border-color:#555; color:#555;">Reset</button>
            </div>
        </div>
        <div class="laps-container" id="laps-list">
            <div class="label">Vueltas / Marcaciones</div>
            </div>
    </section>

    <section class="bottom-section">
        <div class="stat-box">
            <span class="stat-label">Hora Actual (24h)</span>
            <span id="std-now" class="stat-val" style="color: var(--neon-green);">00:00:00</span>
        </div>
        <div class="stat-box">
            <span class="stat-label">Equivalencia de lo que falta</span>
            <span id="std-rem" class="stat-val" style="color: var(--neon-red);">00:00:00</span>
        </div>
    </section>

    <script>
        // --- RELOJ PRINCIPAL Y EQUIVALENCIAS ---
        function updateGlobalTime() {
            const now = new Date();
            const h = now.getHours();
            const m = now.getMinutes();
            const s = now.getSeconds();

            const currentTotal = (h * 3600) + (m * 60) + s;
            const remainingTotal = 86400 - currentTotal;

            // Números Enteros
            document.getElementById('main-sec').textContent = currentTotal.toLocaleString();
            document.getElementById('rem-sec').textContent = "-" + remainingTotal.toLocaleString();

            // Reloj Estándar
            document.getElementById('std-now').textContent = 
                `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;

            // Equivalencia Restante
            const rH = Math.floor(remainingTotal / 3600);
            const rM = Math.floor((remainingTotal % 3600) / 60);
            const rS = remainingTotal % 60;
            document.getElementById('std-rem').textContent = 
                `${String(rH).padStart(2,'0')}:${String(rM).padStart(2,'0')}:${String(rS).padStart(2,'0')}`;

            // Barra de progreso superior
            document.getElementById('p-bar').style.width = (currentTotal / 86400 * 100) + "%";
        }

        // --- LÓGICA DEL CRONÓMETRO ---
        let startTime, elapsedTime = 0, timerInterval;
        let lapCount = 0;

        function startChrono() {
            if (!timerInterval) {
                startTime = Date.now() - elapsedTime;
                timerInterval = setInterval(updateChronoDisplay, 10);
            }
        }

        function pauseChrono() {
            clearInterval(timerInterval);
            timerInterval = null;
        }

        function resetChrono() {
            pauseChrono();
            elapsedTime = 0;
            lapCount = 0;
            document.getElementById('chrono-display').textContent = "00:00.00";
            document.getElementById('laps-list').innerHTML = '<div class="label">Vueltas / Marcaciones</div>';
        }

        function updateChronoDisplay() {
            elapsedTime = Date.now() - startTime;
            let m = Math.floor(elapsedTime / 60000);
            let s = Math.floor((elapsedTime % 60000) / 1000);
            let ms = Math.floor((elapsedTime % 1000) / 10);
            document.getElementById('chrono-display').textContent = 
                `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}.${String(ms).padStart(2,'0')}`;
        }

        function recordLap() {
            if (elapsedTime === 0) return;
            lapCount++;
            const lapTime = document.getElementById('chrono-display').textContent;
            const lapItem = document.createElement('div');
            lapItem.className = 'lap-item';
            lapItem.innerHTML = `<span>Vuelta ${lapCount}</span> <b>${lapTime}</b>`;
            
            const list = document.getElementById('laps-list');
            list.insertBefore(lapItem, list.childNodes[2]); // Inserta arriba
        }

        setInterval(updateGlobalTime, 1000);
        updateGlobalTime();
    </script>
</body>
</html>
